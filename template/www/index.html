<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" id="viewport" content="initial-scale=1.0,user-scalable=no">
    <script src="javascript/json2.js" type="text/javascript"></script>
    <script src="javascript/phonegap.js" type="text/javascript"></script>
    <script type="text/javascript">

      function init() {
        document.getElementById('window.device.name').innerHTML     = 'window.device.name     = ' + window.device.name;
        document.getElementById('window.device.platform').innerHTML = 'window.device.platform = ' + window.device.platform;
        document.getElementById('window.device.uuid').innerHTML     = 'window.device.uuid     = ' + window.device.uuid;
        document.getElementById('window.device.version').innerHTML  = 'window.device.version  = ' + window.device.version;

        navigator.network.isReachable("phonegap.com", function(reachability) {
          var states = {};
          states[NetworkStatus.NOT_REACHABLE]                      = 'No network connection';
          states[NetworkStatus.REACHABLE_VIA_CARRIER_DATA_NETWORK] = 'Carrier data connection';
          states[NetworkStatus.REACHABLE_VIA_WIFI_NETWORK]         = 'WiFi connection';

          document.getElementById('navigator.network.isReachable').innerHTML = 'isReachable = ' + states[reachability];
        });
      }

      function callBeep() {
        navigator.notification.beep(2);
      }

      function callVibrate() {
        navigator.notification.vibrate(1000);
      }
      
      function callAlert() {
      	navigator.notification.alert("You rock!", "Woohoo!", "Thanks");
      }
      
      function onCapturePhotoSuccess(imageData) {
     	if (imageData != null) {
          var smallImage = document.getElementById('navigator.camera.smallImage');
          var uri = document.getElementById('navigator.camera.image.uri');

          // Unhide image elements
          smallImage.style.display = 'block';
          uri.style.display = 'none';

          // Show the captured photo
          // The inline CSS rules are used to resize the image
          smallImage.src = "data:image/jpeg;base64," + imageData;
      	}
      }

      function onCapturePhotoURISuccess(imageURI) {
        if (imageURI != null) {
          var smallImage = document.getElementById('navigator.camera.smallImage');
          var uri = document.getElementById('navigator.camera.image.uri');

          // Unhide image elements
          smallImage.style.display = 'block';
          uri.style.display = 'block';

          // Show the captured photo
          // The inline CSS rules are used to resize the image
          smallImage.src = imageURI;
          uri.innerHTML = imageURI;
        }
      }
      
      function onCapturePhotoError(error) {
      	alert(error);
      }
    
      function capturePhoto() {
      	navigator.camera.getPicture(onCapturePhotoSuccess, onCapturePhotoError, { destinationType:DestinationType.DATA_URL, quality:50 });
      }

      function capturePhotoURI() {
        navigator.camera.getPicture(onCapturePhotoURISuccess, onCapturePhotoError, { destinationType:DestinationType.FILE_URI, quality:50 });
      }
      
    </script>
    <title>Insert title here</title>
  </head>
  <body onload="init()">
    <h3>window.device</h3>
    <p id="window.device.name">[window.device.name]</p>
    <p id="window.device.platform">[window.device.platform]</p>
    <p id="window.device.uuid">[window.device.uuid]</p>
    <p id="window.device.version">[window.device.version]</p>
    <h3>window.notification</h3>
    <input type="button" value="Beep" onclick="callBeep();return false;" />
    <input type="button" value="Vibrate" onclick="callVibrate();return false;" />
    <input type="button" value="Alert" onclick="callAlert();return false;" />
    
    <h3>navigator.network</h3>
    <p id="navigator.network.isReachable">[navigator.network.isReachable]</p>
    
    <h3>navigator.camera</h3>
    <input type="button" value="Get Photo (Data)" onclick="capturePhoto();return false;" /> 
    <input type="button" value="Get Photo (URI)" onclick="capturePhotoURI();return false;" /> 
    <p id="navigator.camera.image.uri"></p>
    <img style="display:none;width:120px;height:120px;" id="navigator.camera.smallImage" src="" />

  </body>
</html>
